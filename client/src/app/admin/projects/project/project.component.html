<app-layout>
  <ng-container ngProjectAs="header">
    
    <div class="flex justify-between items-center w-full">
      <span class="">Project</span>
     

      <div class="flex gap-2">
        <p-button
          type="secondary"
          [outlined]="true"
          severity="secondary"
          size="small"
          label="Back"
          [routerLink]="projectsPath"
        />
        <p-button
          label="Save Project"
          size="small"
          [disabled]="projectForm.invalid"
          (onClick)="onSubmit($event)"
        />
      </div>
    </div>
  </ng-container>
  <ng-container ngProjectAs="content">
    <form #projectForm="ngForm">
      <div class="project-form-container flex flex-col gap-4">
        <div class="grid grid-cols-2 gap-5">
          <!-- Identifier -->
          <div class="field flex flex-col gap-2">
            <label for="identifier">Identifier</label>
            <input
              id="identifier"
              type="text"
              pSize="small"
              pInputText
              [(ngModel)]="project.identifier"
              name="identifier"
              #identifier="ngModel"
              required
            />
            <p-message
              *ngIf="identifier.invalid && (identifier.dirty || identifier.touched)"
              severity="error"
              variant="simple"
              size="small"
              text="Identifier is required."
            ></p-message>
          </div>

          <!-- Name -->
          <div class="field flex flex-col gap-2">
            <label for="name">Name</label>
            <input
              id="name"
              type="text"
              pSize="small"
              pInputText
              [(ngModel)]="project.name"
              name="name"
              #name="ngModel"
              required
            />
            <p-message
              *ngIf="name.invalid && (name.dirty || name.touched)"
              severity="error"
              variant="simple"
              size="small"
              text="Name is required."
            ></p-message>
          </div>

          <!-- Description -->
          <div class="field flex flex-col gap-2 col-span-2">
            <label for="desc">Description</label>
            <textarea
              id="desc"
              rows="3"
              pSize="small"
              pTextarea 
              [(ngModel)]="project.desc"
              name="desc"
              #desc="ngModel"
              required
            ></textarea>
            <p-message
              *ngIf="desc.invalid && (desc.dirty || desc.touched)"
              severity="error"
              variant="simple"
              size="small"
              text="Description is required."
            ></p-message>
          </div>

          <!-- Domain -->
          <div class="field flex flex-col gap-2">
            <label for="domain">Domain</label>
            <input
              id="domain"
              type="text"
              pSize="small"
              pInputText
              [(ngModel)]="project.domain"
              name="domain"
              #domain="ngModel"
              required
            />
            <p-message
              *ngIf="domain.invalid && (domain.dirty || domain.touched)"
              severity="error"
              variant="simple"
              size="small"
              text="Domain is required."
            ></p-message>
          </div>

          <!-- API Prefix -->
          <div class="field flex flex-col gap-2">
            <label for="apiPrefix">API Prefix</label>
            <input
              id="apiPrefix"
              type="text"
              pSize="small"
              pInputText
              [(ngModel)]="project.apiPrefix"
              name="apiPrefix"
              #apiPrefix="ngModel"
              required
            />
            <p-message
              *ngIf="apiPrefix.invalid && (apiPrefix.dirty || apiPrefix.touched)"
              severity="error"
              variant="simple"
              size="small"
              text="API Prefix is required."
            ></p-message>
          </div>

          <!-- API Version -->
          <div class="field flex flex-col gap-2">
            <label for="apiVersion">API Version</label>
            <input
              id="apiVersion"
              type="text"
              pSize="small"
              pInputText
              [(ngModel)]="project.apiVersion"
              name="apiVersion"
              #apiVersion="ngModel"
              required
            />
            <p-message
              *ngIf="apiVersion.invalid && (apiVersion.dirty || apiVersion.touched)"
              severity="error"
              variant="simple"
              size="small"
              text="API Version is required."
            ></p-message>
          </div>

          <!-- Platform -->
          <div class="field flex flex-col gap-2">
            <label for="platform">Platform</label>
            <p-dropdown
              id="platform"
              [options]="platformOptions"
              optionLabel="label"
              [(ngModel)]="project.platform"
              name="platform"
              #platform="ngModel"
              required
            ></p-dropdown>
            <p-message
              *ngIf="platform.invalid && (platform.dirty || platform.touched)"
              severity="error"
              variant="simple"
              size="small"
              text="Platform is required."
            ></p-message>
          </div>
        </div>
      </div>
     
    </form>
  </ng-container>
  <ng-container ngProjectAs="footer">
    <p-button
      label="Save Project"
      size="small"
      [disabled]="projectForm.invalid"
      (onClick)="onSubmit($event)"
      styleClass="w-full h-full"
    />
    
  </ng-container>
</app-layout>